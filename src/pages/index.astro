---
import BaseLayout from '../layouts/BaseLayout.astro';
---
<BaseLayout>
  <style>
    /* 
    ========================================
    SECTION BACKGROUND COLORS
    ========================================
    Hier können Sie die Hintergrundfarben für jede Section ändern.
    
    Beispiele für Farben:
    - Solid colors: #ff0000, #00ff00, #0000ff
    - Gradients: linear-gradient(45deg, #ff0000, #00ff00)
    - Dark colors: #1a1a1a, #2a2a2a, #333333
    */
    :root {
      --hero-bg: linear-gradient(120deg, #0a1733 0%, #162447 100%);
      --ai-check-bg: #0f172a;        /* Dunkelblau (harmoniert mit Hero) */
    }
    
  
    /* Hero Section Styles */
    .hero {
      background: var(--hero-bg);
      box-shadow: 0 6px 32px rgba(0, 0, 0, 0.2);
      padding: 8rem 1rem 6rem 1rem;
      text-align: center;
      min-height: 700px;
      height: auto;
      display: flex;
      align-items: center;
      position: relative;
      overflow: hidden;
    }
    
    /* Add subtle particle effect to hero background */
    .hero::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 20% 30%, rgba(37, 99, 235, 0.15) 0%, transparent 50%),
        radial-gradient(circle at 80% 70%, rgba(37, 99, 235, 0.1) 0%, transparent 50%);
      z-index: 0;
    }

    .hero h1 {
      color: white;
      font-size: 4rem;
      font-family: 'Inter', sans-serif;
      font-weight: 800;
      margin-bottom: 2.2rem;
      letter-spacing: 0.05em;
      line-height: 1.1;
      text-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
      position: relative;
      z-index: 1;
    }

    .hero-subtitle {
      color: #e2e8f0;
      font-size: 1.5rem;
      margin-bottom: 3rem;
      line-height: 1.5;
      max-width: 800px;
      margin-left: auto;
      margin-right: auto;
      position: relative;
      z-index: 1;
    }

    .hero-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(37, 99, 235, 0.7);
      color: white;
      padding: 1rem 2.5rem;
      border-radius: 12px;
      text-decoration: none;
      font-size: 1.2rem;
      font-weight: 700;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      min-height: 56px;
      width: auto;
      max-width: 320px;
      margin: 0 auto;
      position: relative;
      z-index: 1;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
    }
    
    /* Glint effect */
    .hero-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s;
    }
    
    .hero-btn:hover {
      background: rgba(29, 78, 216, 0.8);
      transform: translateY(-8px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      border-color: rgba(255, 255, 255, 0.2);
    }
    
    .hero-btn:hover::before {
      left: 100%;
    }

    /* AI Check Section Mobile Styles */
    .ai-check-section {
      background: var(--ai-check-bg);
      padding: 4rem 2rem;
    }

    .ai-check-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    .ai-check-title {
      font-size: 2rem;
      color: white;
      text-align: left;
      margin-bottom: 2rem;
      line-height: 1.2;
    }

    .ai-check-description {
      text-align: left;
      color: #cbd5e1;
      font-size: 1rem;
      margin-bottom: 0;
      line-height: 1.6;
    }

    .ai-check-content {
      display: flex;
      gap: 2rem;
      align-items: center;
      margin-top: 3rem;
    }

    .ai-check-video {
      flex: 1;
      display: flex;
      justify-content: flex-end;
    }

    .ai-check-video video {
      width: 100%;
      max-width: 480px;
      border-radius: 12px;
      box-shadow: 0 2px 12px #0002;
    }

    .ai-check-button-container {
      flex: 1;
      display: flex;
      justify-content: flex-end;
      padding-right: 15rem;
    }

    .ai-check-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(37, 99, 235, 0.7);
      color: white;
      padding: 1.1rem 2.8rem;
      border-radius: 12px;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
      min-height: 50px;
      white-space: nowrap;
      width: auto;
      max-width: 350px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      overflow: hidden;
      position: relative;
    }
    
    /* Glint effect */
    .ai-check-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s;
    }

    .ai-check-btn:hover {
      background: rgba(29, 78, 216, 0.8);
      transform: translateY(-8px);
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      border-color: rgba(255, 255, 255, 0.2);
    }
    
    .ai-check-btn:hover::before {
      left: 100%;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.45);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .modal-content {
      background: #fff;
      color: #111827;
      max-width: 700px;
      width: 95vw;
      padding: 2.5rem 2rem 2rem 2rem;
      border-radius: 6px;
      box-shadow: 0 4px 32px #0008;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-close {
      position: absolute;
      top: 1.2rem;
      right: 1.2rem;
      background: none;
      border: none;
      font-size: 2rem;
      line-height: 1;
      cursor: pointer;
      color: #111827;
      min-height: 44px;
      min-width: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-logo {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .modal-logo img {
      height: 54px;
      width: auto;
      display: inline-block;
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 1.2rem;
      line-height: 1.3;
    }

    .modal-subtitle {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 1.2rem;
      line-height: 1.3;
    }

    .modal-description {
      font-size: 1rem;
      margin-bottom: 2.2rem;
      line-height: 1.6;
    }

    .modal-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(37, 99, 235, 0.8);
      color: white;
      padding: 1.1rem 2.8rem;
      border-radius: 12px;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 8px 20px rgba(37, 99, 235, 0.3);
      transition: all 0.3s ease;
      min-height: 50px;
      width: auto;
      max-width: 350px;
      white-space: nowrap;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.15);
      overflow: hidden;
      position: relative;
    }
    
    /* Glint effect */
    .modal-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.6s;
    }

    .modal-btn:hover {
      background: rgba(29, 78, 216, 0.9);
      transform: translateY(-5px);
      box-shadow: 0 12px 25px rgba(37, 99, 235, 0.4);
      border-color: rgba(255, 255, 255, 0.25);
    }
    
    .modal-btn:hover::before {
      left: 100%;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero {
        padding: 5rem 1rem 4rem 1rem;
        min-height: 450px;
      }

      .hero h1 {
        font-size: 2.8rem;
        letter-spacing: 0.02em;
      }

      .hero-subtitle {
        font-size: 1.2rem;
        margin-bottom: 2.5rem;
        max-width: 600px;
      }

      .hero-btn {
        padding: 1rem 1.5rem;
        font-size: 1rem;
        width: 100%;
        max-width: 300px;
        margin: 0 auto;
      }

      .ai-check-section {
        padding: 3rem 1rem;
      }

      .ai-check-container {
        padding: 0 1rem;
      }

      .ai-check-title {
        font-size: 1.8rem;
        text-align: left;
      }

      .ai-check-description {
        text-align: left;
        font-size: 0.95rem;
      }

      .ai-check-content {
        flex-direction: column;
        gap: 2rem;
        margin-top: 2rem;
      }

      .ai-check-video {
        justify-content: center;
      }

      .ai-check-button-container {
        justify-content: flex-start;
        padding-right: 0;
      }

      .ai-check-btn {
        padding: 1rem 1.5rem;
        font-size: 1rem;
        width: auto;
        max-width: 300px;
        white-space: nowrap;
      }

      .modal-content {
        padding: 2rem 1.5rem 1.5rem 1.5rem;
      }

      .modal-title {
        font-size: 1.1rem;
      }

      .modal-subtitle {
        font-size: 1rem;
      }

      .modal-description {
        font-size: 0.95rem;
      }

      .modal-btn {
        padding: 1rem 2rem;
        font-size: 1rem;
        width: 100%;
      }
    }

    @media (max-width: 480px) {
      .hero {
        min-height: 350px;
        padding: 4rem 1rem 3rem 1rem;
      }
      
      .hero h1 {
        font-size: 2.2rem;
      }

      .hero-subtitle {
        font-size: 1.05rem;
      }
      
      /* Reduce animation effects on mobile for better performance */
      .hero-btn::before,
      .ai-check-btn::before,
      .modal-btn::before {
        display: none;
      }
      
      .hero-btn,
      .ai-check-btn,
      .modal-btn {
        backdrop-filter: none; /* Remove backdrop-filter on mobile for better performance */
        background: rgba(37, 99, 235, 0.9); /* Make background more opaque to compensate */
      }

      .ai-check-section {
        padding: 2rem 1rem;
      }

      .ai-check-container {
        padding: 0 1rem;
      }

      .ai-check-title {
        font-size: 1.5rem;
        text-align: left;
      }

      .ai-check-description {
        text-align: left;
        font-size: 0.9rem;
      }

      .modal-content {
        padding: 0.7rem 0.3rem 0.7rem 0.3rem;
        max-width: 98vw;
      }
      .modal-title, .modal-subtitle, .modal-description {
        font-size: 0.95rem;
        word-break: break-word;
      }
      .modal-btn {
        font-size: 1rem;
        padding: 0.8rem 0.5rem;
        width: 100%;
        min-height: 48px;
      }
      .modal-close {
        top: 0.5rem;
        right: 0.5rem;
        font-size: 1.3rem;
      }
    }

    /* Touch-friendly improvements */
    @media (hover: none) and (pointer: coarse) {
      .hero-btn,
      .ai-check-btn,
      .modal-btn {
        min-height: 48px;
        transform: none !important; /* Prevent transform on mobile to avoid layout shifts */
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2) !important; /* Consistent shadow for mobile */
      }

      .modal-close {
        min-height: 48px;
        min-width: 48px;
      }
    }

    /* Hero-Bereich Layout-Anpassung */
    .hero-flex {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
      min-height: 350px;
      position: relative;
      height: 100%;
      padding: 0 1rem;
      padding-top: 80px;
    }
    .hero-content {
      flex: 1;
      max-width: 780px;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
      justify-content: center;
      text-align: left;
      gap: 1.5rem;
      margin-top: -40px;
    }
    .hero-content h1 {
      color: white;
      font-size: 3.2rem;
      font-weight: 800;
      margin: 0;
      letter-spacing: 0.05em;
      line-height: 1.1;
      text-align: left;
      white-space: normal;
      position: relative;
      width: 100%;
      height: 180px;
      display: flex;
      align-items: flex-end;
      overflow: hidden;
    }

    .hero-title-animated {
      background: linear-gradient(45deg, #ffffff, #f1f5f9, #e2e8f0, #cbd5e1);
      background-size: 400% 400%;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradientShift 12s ease-in-out infinite;
      transition: opacity 0.6s ease-in-out, transform 0.6s ease-in-out;
      opacity: 0.95;
      width: 100%;
      display: block;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }
    .hero-content .hero-subtitle {
      color: #cbd5e1;
      font-size: 1.3rem;
      margin: 0;
      line-height: 1.4;
      text-align: left;
      letter-spacing: 0.03em;
      white-space: normal;
    }
    .hero-btn {
      align-self: flex-start;
      margin: 0;
      white-space: nowrap;
    }

    @media (max-width: 1024px) {
      .hero-flex {
        flex-direction: column;
        align-items: stretch;
        gap: 1.5rem;
        min-height: unset;
      }
    }
    @media (max-width: 600px) {
      .hero-flex {
        flex-direction: column;
        gap: 1.5rem;
        padding: 0 1rem;
      }
      .hero-content {
        flex-direction: column;
        align-items: flex-start;
        text-align: left;
        gap: 1rem;
        max-width: 100%;
      }
      .hero-content h1 {
        text-align: left;
        white-space: normal;
        font-size: 2.5rem;
        height: 150px;
        display: flex;
        align-items: flex-end;
        overflow: hidden;
      }
      .hero-content .hero-subtitle {
        text-align: left;
        white-space: normal;
        font-size: 1.1rem;
      }
    }
  </style>

  <section class="hero" id="home">
    <div class="hero-flex">
      <div class="hero-content">
        <h1 id="hero-title" class="hero-title-animated">Gemeinsam entfalten wir die Kraft Ihrer Daten – mit KI, die Menschen stärkt.</h1>
        <div class="hero-subtitle">AImpacts – Ihre Experten rund um AI für Unternehmen!</div>
        <a id="ai-weg-btn" href="#" class="hero-btn">Ihr Weg mit AI beginnt hier →</a>
      </div>
    </div>
  </section>

  <div id="ai-modal" class="modal">
    <div class="modal-content">
      <button id="ai-modal-close" class="modal-close">&times;</button>
      <div class="modal-logo">
        <img src="/images/logo.svg" alt="AImpacts Logo" />
      </div>
      <div class="modal-title">Sie möchten mehr wissen und haben Fragen dazu, wie sich AI für Ihr Unternehmen und Ihre Anwendungen nutzen lässt?</div>
      <div class="modal-subtitle">Dann vereinbaren Sie eine 30-minütigen kostenlosen AI Beratung.</div>
      <div class="modal-description">In dieser Beratung erfahren Sie mehr dazu, wie sich AI für Ihr Unternehmen nutzen lässt und wie wir arbeiten.<br><br>Reservieren Sie noch heute Ihren persönlichen Beratungstermin mit einem unserer Experten und Expertinnen.</div>
      <a href="https://calendly.com/julius-kaeck/30min?month=2025-06" target="_blank" rel="noopener noreferrer" class="modal-btn">Zur kostenlosen AI Beratung</a>
    </div>
  </div>

  <main>
    <!-- AI Check Section -->
    <section class="ai-check-section">
      <div class="ai-check-container">
        <h2 class="ai-check-title">Starten Sie Ihren AI Check</h2>
        <p class="ai-check-description">
          Wir definieren gemeinsam Ihre Anforderungen und entwickeln die erforderlichen Umsetzungsschritte. Wir begleiten Sie und Ihr Team Schritt für Schritt. Wir sind Ihr Ansprechpartner, auch wenn Sie noch keine klare Richtung haben. Sortieren Sie mit uns Ihre Gedanken und definieren Sie Ihre Ziele. Wir arbeiten von Anfang an transparent und auf Augenhöhe.
        </p>
        <div class="ai-check-content">
          <div class="ai-check-video">
            <video src="/videos/Start_Ai.mp4" autoplay muted loop></video>
          </div>
          <div class="ai-check-button-container">
            <a id="ai-check-btn" href="https://forms.office.com/e/ExtrgZHDBh" target="_blank" rel="noopener noreferrer" class="ai-check-btn">AI Check mit AImpacts starten →</a>
          </div>
        </div>
      </div>
    </section>
  </main>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    // Hero title rotation - Isolated execution
    try {
      const heroTitles = [
        'Ihre KI-Transformation beginnt hier.',
        'Wir entwickeln KI, die Menschen stärkt.',
        'AI ist da. Die Frage ist: Nutzen Sie sie richtig?'
      ];
      
      let currentTitleIndex = 0;
      const heroTitleElement = document.getElementById('hero-title');
      
      if (heroTitleElement) {
        console.log('Hero title element found, starting rotation');
        
        function changeHeroTitle() {
          if (heroTitleElement) {
            // Fade out
            heroTitleElement.style.opacity = '0';
            heroTitleElement.style.transform = 'translateY(-20px)';
            
            setTimeout(() => {
              // Change text
              currentTitleIndex = (currentTitleIndex + 1) % heroTitles.length;
              heroTitleElement.textContent = heroTitles[currentTitleIndex];
              console.log('Hero title changed to:', heroTitles[currentTitleIndex]);
              
              // Fade in
              heroTitleElement.style.opacity = '1';
              heroTitleElement.style.transform = 'translateY(0)';
            }, 600);
          }
        }
        
        // Start alternating titles every 5.5 seconds
        const heroInterval = setInterval(changeHeroTitle, 5500);
        console.log('Hero title rotation started with interval:', heroInterval);
      } else {
        console.error('Hero title element not found!');
      }
    } catch (error) {
      console.error('Error in hero title rotation:', error);
    }
    // Erstes Modal (AI Weg)
    var btn = document.getElementById('ai-weg-btn');
    var modal = document.getElementById('ai-modal');
    var close = document.getElementById('ai-modal-close');
    function disableBodyScroll() {
      document.body.style.overflow = 'hidden';
    }
    function enableBodyScroll() {
      document.body.style.overflow = 'auto';
    }
    if (btn && modal && close) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        if (modal) {
          modal.style.display = 'flex';
          disableBodyScroll();
        }
      });
      close.addEventListener('click', function() {
        if (modal) modal.style.display = 'none';
        enableBodyScroll();
      });
      window.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal) {
          modal.style.display = 'none';
          enableBodyScroll();
        }
      });
      if (modal) {
        modal.addEventListener('click', function(e) {
          if (e.target === modal) {
            modal.style.display = 'none';
            enableBodyScroll();
          }
        });
      }
    }
    
    // Enhanced CTA and Conversion Tracking
    if (typeof window.gtag !== 'undefined') {
      const gtag = window.gtag;
      
      // Track CTA button clicks
      document.querySelectorAll('[href*="/blog/"], [id*="-btn"], .cta-button, [href*="d2"]').forEach(button => {
        button.addEventListener('click', function(e) {
          const buttonText = this.textContent?.trim() || 'unknown';
          const buttonId = this.id || 'no-id';
          const targetUrl = this.href || 'no-url';
          const currentPage = window.location.pathname;
          
          let actionType = 'unknown';
          if (targetUrl.includes('/blog/')) {
            actionType = 'blog_navigation';
          } else if (targetUrl.includes('d2')) {
            actionType = 'd2_test_access';
          } else if (buttonId.includes('modal') || buttonId.includes('btn')) {
            actionType = 'modal_open';
          }
          
          gtag('event', 'cta_click', {
            'event_category': 'Conversion Funnel',
            'event_label': buttonText,
            'button_id': buttonId,
            'button_text': buttonText,
            'target_url': targetUrl,
            'source_page': currentPage,
            'action_type': actionType
          });
        });
      });
      
      // Track form interactions (if any)
      document.querySelectorAll('form').forEach(form => {
        form.addEventListener('submit', function(e) {
          gtag('event', 'form_submit', {
            'event_category': 'Conversion Funnel',
            'event_label': 'Form Submission',
            'form_id': this.id || 'unknown',
            'source_page': window.location.pathname
          });
        });
      });
      
      // Track modal interactions
      document.querySelectorAll('[id*="modal"]').forEach(modal => {
        const observer = new MutationObserver(function(mutations) {
          mutations.forEach(function(mutation) {
            if (mutation.type === 'attributes' && mutation.attributeName === 'style') {
              const target = mutation.target;
              if (target.style.display === 'flex' || target.style.display === 'block') {
                gtag('event', 'modal_view', {
                  'event_category': 'User Engagement',
                  'event_label': target.id,
                  'modal_id': target.id,
                  'source_page': window.location.pathname
                });
              }
            }
          });
        });
        
        observer.observe(modal, { attributes: true, attributeFilter: ['style'] });
      });
    }
    
    // Video code removed
  });
</script>
</BaseLayout>


