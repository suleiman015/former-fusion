---
import BaseLayout from '../layouts/BaseLayout.astro';
import Lesitungen from '../components/Lesitungen.astro';
import TechnologienUndInvestitionen from '../components/TechnologienUndInvestitionen.astro';
import FAQ from '../components/FAQ.astro';
import Comments from '../components/comments.astro';
import UeberUns from '../components/UeberUns.astro';
import { getCollection } from 'astro:content';
const posts = await getCollection('blog');
const sorted = posts.sort((a, b) => new Date(b.data.date as string).getTime() - new Date(a.data.date as string).getTime());
const latest = sorted[0];
function formatDate(dateStr: string): string {
  const d = new Date(dateStr);
  const day = String(d.getDate()).padStart(2, '0');
  const month = String(d.getMonth() + 1).padStart(2, '0');
  const year = d.getFullYear();
  return `${day}.${month}.${year}`;
}
---
<BaseLayout>
  <style>
    body {
      background: #000 !important;
    }
    /* Hero Section Mobile Styles */
    .hero {
      background: linear-gradient(120deg, #0a1733 0%, #162447 100%);
      box-shadow: 0 6px 32px #0002;
      padding: 6rem 1rem 4rem 1rem;
      text-align: center;
    }

    .hero h1 {
      color: white;
      font-size: 3.2rem;
      font-weight: 800;
      margin-bottom: 1.2rem;
      letter-spacing: -2px;
      line-height: 1.1;
    }

    .hero-subtitle {
      color: #cbd5e1;
      font-size: 1.3rem;
      margin-bottom: 2.5rem;
      line-height: 1.4;
    }

    .hero-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #2563eb;
      color: white;
      padding: 0.8rem 2rem;
      border-radius: 0.375rem;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 2px 8px #0002;
      transition: all 0.3s ease;
      min-height: 48px;
      width: auto;
      max-width: 320px;
      margin: 0 auto;
    }

    .hero-btn:hover {
      background: #1741b6;
      transform: translateY(-2px);
      box-shadow: 0 4px 16px #0004;
    }

    /* AI Check Section Mobile Styles */
    .ai-check-section {
      background: #000000;
      padding: 4rem 2rem;
    }

    .ai-check-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    .ai-check-title {
      font-size: 2rem;
      color: white;
      text-align: left;
      margin-bottom: 2rem;
      line-height: 1.2;
    }

    .ai-check-description {
      text-align: left;
      color: #cbd5e1;
      font-size: 1rem;
      margin-bottom: 0;
      line-height: 1.6;
    }

    .ai-check-content {
      display: flex;
      gap: 2rem;
      align-items: center;
      margin-top: 3rem;
    }

    .ai-check-video {
      flex: 1;
      display: flex;
      justify-content: flex-end;
    }

    .ai-check-video video {
      width: 100%;
      max-width: 480px;
      border-radius: 12px;
      box-shadow: 0 2px 12px #0002;
    }

    .ai-check-button-container {
      flex: 1;
      display: flex;
      justify-content: flex-end;
      padding-right: 15rem;
    }

    .ai-check-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #2563eb;
      color: white;
      padding: 1.1rem 2.8rem;
      border-radius: 0.375rem;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 2px 8px #0002;
      transition: all 0.3s ease;
      min-height: 50px;
      white-space: nowrap;
      width: auto;
      max-width: 350px;
    }

    .ai-check-btn:hover {
      background: #1741b6;
      transform: translateY(-2px);
      box-shadow: 0 4px 16px #0004;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.45);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .modal-content {
      background: #fff;
      color: #111827;
      max-width: 700px;
      width: 95vw;
      padding: 2.5rem 2rem 2rem 2rem;
      border-radius: 6px;
      box-shadow: 0 4px 32px #0008;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-close {
      position: absolute;
      top: 1.2rem;
      right: 1.2rem;
      background: none;
      border: none;
      font-size: 2rem;
      line-height: 1;
      cursor: pointer;
      color: #111827;
      min-height: 44px;
      min-width: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-logo {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .modal-logo img {
      height: 54px;
      width: auto;
      display: inline-block;
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 1.2rem;
      line-height: 1.3;
    }

    .modal-subtitle {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 1.2rem;
      line-height: 1.3;
    }

    .modal-description {
      font-size: 1rem;
      margin-bottom: 2.2rem;
      line-height: 1.6;
    }

    .modal-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #2563eb;
      color: white;
      padding: 1.1rem 2.8rem;
      border-radius: 0.375rem;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 2px 8px #0002;
      transition: all 0.3s ease;
      min-height: 50px;
      width: auto;
      max-width: 350px;
      white-space: nowrap;
    }

    .modal-btn:hover {
      background: #1741b6;
      transform: translateY(-2px);
      box-shadow: 0 4px 16px #2563eb66;
    }

    /* AI Check Modal Specific Styles */
    .ai-check-modal-content {
      position: relative;
      max-width: 800px;
      width: 95vw;
      min-height: 320px;
      border-radius: 8px;
      box-shadow: 0 4px 32px #0008;
      overflow: hidden;
      background: url('/images/ai.jpg') center center / cover no-repeat;
      display: flex;
      align-items: flex-start;
      justify-content: flex-end;
    }

    .ai-check-modal-inner {
      background: rgba(255,255,255,0.85);
      box-shadow: 0 4px 24px #0003;
      border-radius: 8px;
      padding: 1.5rem 1.2rem;
      max-width: 340px;
      width: 100%;
      margin: 2.5rem 2.5rem 2.5rem 0;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    .ai-check-modal-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1.2rem;
      line-height: 1.2;
    }

    .ai-check-modal-date {
      font-size: 1rem;
      color: #444;
      margin-bottom: 0.7rem;
    }

    .ai-check-modal-description {
      font-size: 1rem;
      color: #222;
      margin-bottom: 1.5rem;
      line-height: 1.5;
    }

    .ai-check-modal-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #222;
      color: white;
      padding: 0.7rem 1.5rem;
      border-radius: 0.3rem;
      text-decoration: none;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      min-height: 44px;
      width: auto;
      white-space: nowrap;
    }

    .ai-check-modal-btn:hover {
      background: #444;
      transform: translateY(-1px);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero {
        padding: 4rem 1rem 3rem 1rem;
      }

      .hero h1 {
        font-size: 2.5rem;
        letter-spacing: -1px;
      }

      .hero-subtitle {
        font-size: 1.1rem;
        margin-bottom: 2rem;
      }

      .hero-btn {
        padding: 1rem 1.5rem;
        font-size: 1rem;
        width: 100%;
        max-width: 300px;
        margin: 0 auto;
      }

      .ai-check-section {
        padding: 3rem 1rem;
      }

      .ai-check-container {
        padding: 0 1rem;
      }

      .ai-check-title {
        font-size: 1.8rem;
        text-align: left;
      }

      .ai-check-description {
        text-align: left;
        font-size: 0.95rem;
      }

      .ai-check-content {
        flex-direction: column;
        gap: 2rem;
        margin-top: 2rem;
      }

      .ai-check-video {
        justify-content: center;
      }

      .ai-check-button-container {
        justify-content: flex-start;
        padding-right: 0;
      }

      .ai-check-btn {
        padding: 1rem 1.5rem;
        font-size: 1rem;
        width: auto;
        max-width: 300px;
        white-space: nowrap;
      }

      .modal-content {
        padding: 2rem 1.5rem 1.5rem 1.5rem;
      }

      .modal-title {
        font-size: 1.1rem;
      }

      .modal-subtitle {
        font-size: 1rem;
      }

      .modal-description {
        font-size: 0.95rem;
      }

      .modal-btn {
        padding: 1rem 2rem;
        font-size: 1rem;
        width: 100%;
      }

      .ai-check-modal-content {
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 400px;
      }

      .ai-check-modal-inner {
        margin: 1rem;
        max-width: 90%;
      }

      .ai-check-modal-title {
        font-size: 1.3rem;
      }
    }

    @media (max-width: 480px) {
      .hero h1 {
        font-size: 2rem;
      }

      .hero-subtitle {
        font-size: 1rem;
      }

      .ai-check-section {
        padding: 2rem 1rem;
      }

      .ai-check-container {
        padding: 0 1rem;
      }

      .ai-check-title {
        font-size: 1.5rem;
        text-align: left;
      }

      .ai-check-description {
        text-align: left;
        font-size: 0.9rem;
      }

      .modal-content {
        padding: 0.7rem 0.3rem 0.7rem 0.3rem;
        max-width: 98vw;
      }
      .modal-title, .modal-subtitle, .modal-description {
        font-size: 0.95rem;
        word-break: break-word;
      }
      .modal-btn {
        font-size: 1rem;
        padding: 0.8rem 0.5rem;
        width: 100%;
        min-height: 48px;
      }
      .modal-close {
        top: 0.5rem;
        right: 0.5rem;
        font-size: 1.3rem;
      }
    }

    /* Touch-friendly improvements */
    @media (hover: none) and (pointer: coarse) {
      .hero-btn,
      .ai-check-btn,
      .modal-btn,
      .ai-check-modal-btn {
        min-height: 48px;
      }

      .modal-close {
        min-height: 48px;
        min-width: 48px;
      }
    }

    .always-blog-banner {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 9999;
      background: #2563eb;
      color: white;
      padding: 1rem 3rem 1rem 1.5rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 16px #0003;
      max-width: 350px;
      transition: transform 0.4s cubic-bezier(.4,2,.6,1), opacity 0.4s;
      font-size: 1.05rem;
      white-space: normal;
      word-break: break-word;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .always-blog-banner.hide {
      display: none;
    }
    .always-blog-banner .close-btn {
      background: none;
      border: none;
      color: #fff;
      font-size: 1.3rem;
      font-weight: bold;
      cursor: pointer;
      padding: 0 0.3em;
      line-height: 1;
      opacity: 0.7;
      transition: opacity 0.2s;
    }
    .always-blog-banner .close-btn:hover {
      opacity: 1;
    }
    @media (max-width: 600px) {
      .always-blog-banner {
        left: 0.5rem;
        right: 0.5rem;
        max-width: 95vw;
        padding: 0.7rem 3rem 0.7rem 0.7rem;
        font-size: 0.98rem;
      }
      .always-blog-banner .close-btn {
        right: 1rem;
      }
    }
    /* Hero-Bereich Layout-Anpassung */
    .hero-flex {
      display: flex;
      gap: 2.5rem;
      align-items: center;
      justify-content: flex-start;
      max-width: 1200px;
      margin: 0 auto;
      flex-wrap: nowrap;
      min-height: 350px;
    }
    .blog-list-preview {
      background: #1e293b;
      border-radius: 30px;
      box-shadow: 0 2px 12px #0002;
      padding: 2rem 3rem 2rem 3rem;
      margin: 0.5rem auto 0 5vw;
      max-width: 400px;
      min-width: 0;
    }
    .blog-list-header {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 0.7rem;
    }
    .blog-list-header-title {
      font-size: 1.08rem;
      font-weight: 700;
      color: #fff;
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .blog-list-header-date {
      font-size: 0.95rem;
      color: #b6c6e3;
      font-weight: 400;
    }
    .blog-list-preview ul {
      list-style: none;
      padding: 0;
      margin: 0 0 0.5rem 0;
    }
    .blog-list-item {
      padding: 0.5rem 0 0.5rem 0;
      border-bottom: 1px solid #3a5a8c;
      display: flex;
      flex-direction: column;
      gap: 0.1rem;
    }
    .blog-list-item:last-child {
      border-bottom: none;
    }
    .blog-list-title {
      color: #fff;
      font-size: 1.01rem;
      font-weight: 600;
      margin-bottom: 0.1rem;
      text-decoration: none;
      transition: color 0.2s;
    }
    .blog-list-title:hover {
      color: #60a5fa;
    }
    .blog-list-date {
      color: #b6c6e3;
      font-size: 0.89rem;
      font-weight: 400;
    }
    .blog-list-more-link {
      display: block;
      text-align: left;
      color: #8cb4e7;
      font-size: 0.93rem;
      margin-top: 1.2rem;
      margin-bottom: 0.2rem;
      text-decoration: none;
      font-weight: 400;
      padding: 0.1rem 0;
      opacity: 0.8;
      letter-spacing: 0.01em;
      cursor: pointer;
      transition: none;
    }
    .blog-list-more-link:hover {
      color: #8cb4e7;
      opacity: 1;
      text-decoration: none;
    }
    .hero-content {
      flex: 1;
      min-width: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 1.5rem;
      padding-right: 0;
    }
    .hero-content h1 {
      color: white;
      font-size: 3.2rem;
      font-weight: 800;
      margin: 0;
      letter-spacing: -2px;
      line-height: 1.1;
      text-align: center;
      white-space: normal;
    }
    .hero-content .hero-subtitle {
      color: #cbd5e1;
      font-size: 1.3rem;
      margin: 0;
      line-height: 1.4;
      text-align: center;
      white-space: normal;
    }
    .hero-btn {
      align-self: center;
      margin: 0;
      white-space: nowrap;
      
    }
    @media (max-width: 1024px) {
      .hero-flex {
        flex-direction: column;
        align-items: stretch;
        gap: 1.5rem;
        min-height: unset;
      }
      .hero-content {
        align-items: flex-start;
        text-align: left;
      }
      .hero-content h1, .hero-content .hero-subtitle {
        text-align: left;
      }
      .hero-btn {
        align-self: flex-start;
      }
    }
    @media (max-width: 600px) {
      .hero-flex {
        flex-direction: column;
        gap: 1rem;
        padding: 0;
      }
      .hero-content {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1rem;
      }
      .hero-content h1, .hero-content .hero-subtitle {
        text-align: center;
        white-space: normal;
      }
      .hero-btn {
        align-self: center;
      }
      .blog-list-preview {
        padding: 0.3rem 0.2rem 0.5rem 0.2rem;
        margin-bottom: 0.3rem;
        border-radius: 10px;
        margin: 0.5rem auto 0 auto;
        max-width: 220px;
      }
      .blog-list-preview h3 {
        font-size: 0.92rem;
        margin-bottom: 0.2rem;
        font-weight: 600;
      }
      .blog-list-preview ul {
        flex-direction: column;
        overflow-x: unset;
        overflow-y: auto;
        gap: 0.3rem;
        padding-bottom: 0;
        margin-bottom: 0.2rem;
        max-height: 60px;
      }
      .blog-list-item {
        min-width: unset;
        max-width: 100%;
        background: #1e293b;
        border-radius: 6px;
        padding: 0.15rem 0.3rem;
        box-shadow: 0 1px 2px #0001;
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        justify-content: center;
        font-size: 0.88rem;
        margin-right: 0;
      }
      .blog-list-item a {
        font-size: 0.88rem;
        margin-bottom: 0.05rem;
      }
      .blog-list-date {
        font-size: 0.7rem;
      }
      .blog-list-more-btn {
        min-width: 60px;
        max-width: 80px;
        font-size: 0.88rem;
        padding: 0.15rem 0.5rem;
      }
    }
  </style>

  <section class="hero" id="home">
    <div class="hero-flex">
      <aside class="blog-list-preview">
        <ul>
          {sorted.slice(0, 4).map(post => (
            <li class="blog-list-item">
              <a href={`/blog/${post.slug}`} class="blog-list-title">{post.data.title}</a>
              <span class="blog-list-date">{formatDate(post.data.date as string)}</span>
            </li>
          ))}
        </ul>
        {sorted.length > 4 && (
          <a href="/blog" class="blog-list-more-link">+ {sorted.length - 4} weitere Blogs</a>
        )}
      </aside>
      <div class="hero-content">
        <h1>AI ready for business</h1>
        <div class="hero-subtitle">AImpacts – Ihre Experten rund um AI für Unternehmen!</div>
        <a id="ai-weg-btn" href="#" class="hero-btn">Ihr Weg mit AI beginnt hier →</a>
      </div>
    </div>
  </section>

  <div id="ai-modal" class="modal">
    <div class="modal-content">
      <button id="ai-modal-close" class="modal-close">&times;</button>
      <div class="modal-logo">
        <img src="/images/logo.svg" alt="AImpacts Logo" />
      </div>
      <div class="modal-title">Sie möchten mehr wissen und haben Fragen dazu, wie sich AI für Ihr Unternehmen und Ihre Anwendungen nutzen lässt?</div>
      <div class="modal-subtitle">Dann vereinbaren Sie eine 30-minütigen kostenlosen AI Beratung.</div>
      <div class="modal-description">In dieser Beratung erfahren Sie mehr dazu, wie sich AI für Ihr Unternehmen nutzen lässt und wie wir arbeiten.<br><br>Reservieren Sie noch heute Ihren persönlichen Beratungstermin mit einem unserer Experten und Expertinnen.</div>
      <a href="https://calendly.com/julius-kaeck/30min?month=2025-06" target="_blank" rel="noopener noreferrer" class="modal-btn">Zur kostenlosen AI Beratung</a>
    </div>
  </div>

  <main>
    <!-- AI Check Section -->
    <section class="ai-check-section">
      <div class="ai-check-container">
        <h2 class="ai-check-title">Starten Sie Ihren AI Check</h2>
        <p class="ai-check-description">
          Wir definieren gemeinsam Ihre Anforderungen und entwickeln die erforderlichen Umsetzungsschritte. Wir begleiten Sie und Ihr Team Schritt für Schritt. Wir sind Ihr Ansprechpartner, auch wenn Sie noch keine klare Richtung haben. Sortieren Sie mit uns Ihre Gedanken und definieren Sie Ihre Ziele. Wir arbeiten von Anfang an transparent und auf Augenhöhe.
        </p>
        <div class="ai-check-content">
          <div class="ai-check-video">
            <video src="/videos/Start_Ai.mp4" autoplay muted loop></video>
          </div>
          <div class="ai-check-button-container">
            <a id="ai-check-btn" href="https://forms.office.com/e/ExtrgZHDBh" target="_blank" rel="noopener noreferrer" class="ai-check-btn">AI Check mit AImpacts starten →</a>
          </div>
        </div>
      </div>
    </section>

      <section id="ueber-uns"><UeberUns /></section>
<section id="leistungen"><Lesitungen /></section>
<section id="technologien"><TechnologienUndInvestitionen /></section>
<section id="team"><Comments /></section>
<section id="faq"><FAQ /></section>
  </main>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    // Erstes Modal (AI Weg)
    var btn = document.getElementById('ai-weg-btn');
    var modal = document.getElementById('ai-modal');
    var close = document.getElementById('ai-modal-close');
    function disableBodyScroll() {
      document.body.style.overflow = 'hidden';
    }
    function enableBodyScroll() {
      document.body.style.overflow = 'auto';
    }
    if (btn && modal && close) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        if (modal) {
          modal.style.display = 'flex';
          disableBodyScroll();
        }
      });
      close.addEventListener('click', function() {
        if (modal) modal.style.display = 'none';
        enableBodyScroll();
      });
      window.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal) {
          modal.style.display = 'none';
          enableBodyScroll();
        }
      });
      if (modal) {
        modal.addEventListener('click', function(e) {
          if (e.target === modal) {
            modal.style.display = 'none';
            enableBodyScroll();
          }
        });
      }
    }
  });
</script>
</BaseLayout>


