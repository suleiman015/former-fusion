---
import BaseLayout from '../layouts/BaseLayout.astro';
import Lesitungen from '../components/Lesitungen.astro';
import TechnologienUndInvestitionen from '../components/TechnologienUndInvestitionen.astro';
import FAQ from '../components/FAQ.astro';
import Comments from '../components/comments.astro';
import UeberUns from '../components/UeberUns.astro';
import { getCollection } from 'astro:content';
const posts = await getCollection('blog');
const sorted = posts.sort((a, b) => new Date(b.data.date as string).getTime() - new Date(a.data.date as string).getTime());
const latest = sorted[0];
const latestTwo = sorted.slice(0, 2);
function formatDate(dateStr: string): string {
  const d = new Date(dateStr);
  const day = String(d.getDate()).padStart(2, '0');
  const month = String(d.getMonth() + 1).padStart(2, '0');
  const year = d.getFullYear();
  return `${day}.${month}.${year}`;
}
---
<BaseLayout>
  <style>
    /* 
    ========================================
    SECTION BACKGROUND COLORS
    ========================================
    Hier können Sie die Hintergrundfarben für jede Section ändern.
    
    Beispiele für Farben:
    - Solid colors: #ff0000, #00ff00, #0000ff
    - Gradients: linear-gradient(45deg, #ff0000, #00ff00)
    - Dark colors: #1a1a1a, #2a2a2a, #333333
    */
    :root {
      --hero-bg: linear-gradient(120deg, #0a1733 0%, #162447 100%);
      --ai-check-bg: #0f172a;        /* Dunkelblau (harmoniert mit Hero) */
      --ueber-uns-bg: #1e293b;       /* Slate Blue */
      --leistungen-bg: #334155;      /* Heller Slate (für Kontrast) */
      --technologien-bg: #0f172a;    /* Dunkelblau (wie AI Check) */
      --team-bg: #000000;            /* Slate Blue (wie Über uns) */
      --faq-bg: #1e293b;             /* Schwarz (starker Abschluss) */
    }
    
  
    /* Hero Section Mobile Styles */
    .hero {
      background: var(--hero-bg);
      box-shadow: 0 6px 32px #0002;
      padding: 6rem 1rem 4rem 1rem;
      text-align: center;
      min-height: 700px;
      height: auto;
      display: flex;
      align-items: center;
    }

    .hero h1 {
      color: white;
      font-size: 3.2rem;
      font-family: 'Inter', sans-serif;
      font-weight: 700;
      margin-bottom: 2.2rem;
      letter-spacing: 0.09em;
      line-height: 1.1;
    }

    .hero-subtitle {
      color: #cbd5e1;
      font-size: 1.3rem;
      margin-bottom: 2.5rem;
      line-height: 1.4;
    }

    .hero-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #2563eb;
      color: white;
      padding: 0.8rem 2rem;
      border-radius: 0.375rem;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 2px 8px #0002;
      transition: all 0.3s ease;
      min-height: 48px;
      width: auto;
      max-width: 320px;
      margin: 0 auto;
    }

    .hero-btn:hover {
      background: #1741b6;
      transform: translateY(-2px);
      box-shadow: 0 4px 16px #0004;
    }

    /* AI Check Section Mobile Styles */
    .ai-check-section {
      background: var(--ai-check-bg);
      padding: 4rem 2rem;
    }

    .ai-check-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 1rem;
    }

    .ai-check-title {
      font-size: 2rem;
      color: white;
      text-align: left;
      margin-bottom: 2rem;
      line-height: 1.2;
    }

    .ai-check-description {
      text-align: left;
      color: #cbd5e1;
      font-size: 1rem;
      margin-bottom: 0;
      line-height: 1.6;
    }

    .ai-check-content {
      display: flex;
      gap: 2rem;
      align-items: center;
      margin-top: 3rem;
    }

    .ai-check-video {
      flex: 1;
      display: flex;
      justify-content: flex-end;
    }

    .ai-check-video video {
      width: 100%;
      max-width: 480px;
      border-radius: 12px;
      box-shadow: 0 2px 12px #0002;
    }

    .ai-check-button-container {
      flex: 1;
      display: flex;
      justify-content: flex-end;
      padding-right: 15rem;
    }

    .ai-check-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #2563eb;
      color: white;
      padding: 1.1rem 2.8rem;
      border-radius: 0.375rem;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 2px 8px #0002;
      transition: all 0.3s ease;
      min-height: 50px;
      white-space: nowrap;
      width: auto;
      max-width: 350px;
    }

    .ai-check-btn:hover {
      background: #1741b6;
      transform: translateY(-2px);
      box-shadow: 0 4px 16px #0004;
    }

    /* Modal Styles */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.45);
      z-index: 9999;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }

    .modal-content {
      background: #fff;
      color: #111827;
      max-width: 700px;
      width: 95vw;
      padding: 2.5rem 2rem 2rem 2rem;
      border-radius: 6px;
      box-shadow: 0 4px 32px #0008;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }

    .modal-close {
      position: absolute;
      top: 1.2rem;
      right: 1.2rem;
      background: none;
      border: none;
      font-size: 2rem;
      line-height: 1;
      cursor: pointer;
      color: #111827;
      min-height: 44px;
      min-width: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-logo {
      text-align: center;
      margin-bottom: 1.5rem;
    }

    .modal-logo img {
      height: 54px;
      width: auto;
      display: inline-block;
    }

    .modal-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 1.2rem;
      line-height: 1.3;
    }

    .modal-subtitle {
      font-size: 1.15rem;
      font-weight: 700;
      margin-bottom: 1.2rem;
      line-height: 1.3;
    }

    .modal-description {
      font-size: 1rem;
      margin-bottom: 2.2rem;
      line-height: 1.6;
    }

    .modal-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #2563eb;
      color: white;
      padding: 1.1rem 2.8rem;
      border-radius: 0.375rem;
      text-decoration: none;
      font-size: 1.1rem;
      font-weight: 700;
      box-shadow: 0 2px 8px #0002;
      transition: all 0.3s ease;
      min-height: 50px;
      width: auto;
      max-width: 350px;
      white-space: nowrap;
    }

    .modal-btn:hover {
      background: #1741b6;
      transform: translateY(-2px);
      box-shadow: 0 4px 16px #2563eb66;
    }

    /* AI Check Modal Specific Styles */
    .ai-check-modal-content {
      position: relative;
      max-width: 800px;
      width: 95vw;
      min-height: 320px;
      border-radius: 8px;
      box-shadow: 0 4px 32px #0008;
      overflow: hidden;
      background: url('/images/ai.jpg') center center / cover no-repeat;
      display: flex;
      align-items: flex-start;
      justify-content: flex-end;
    }

    .ai-check-modal-inner {
      background: rgba(255,255,255,0.85);
      box-shadow: 0 4px 24px #0003;
      border-radius: 8px;
      padding: 1.5rem 1.2rem;
      max-width: 340px;
      width: 100%;
      margin: 2.5rem 2.5rem 2.5rem 0;
      display: flex;
      flex-direction: column;
      align-items: flex-start;
    }

    .ai-check-modal-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1.2rem;
      line-height: 1.2;
    }

    .ai-check-modal-date {
      font-size: 1rem;
      color: #444;
      margin-bottom: 0.7rem;
    }

    .ai-check-modal-description {
      font-size: 1rem;
      color: #222;
      margin-bottom: 1.5rem;
      line-height: 1.5;
    }

    .ai-check-modal-btn {
      display: flex;
      align-items: center;
      justify-content: center;
      background: #222;
      color: white;
      padding: 0.7rem 1.5rem;
      border-radius: 0.3rem;
      text-decoration: none;
      font-size: 1rem;
      font-weight: 600;
      transition: all 0.3s ease;
      min-height: 44px;
      width: auto;
      white-space: nowrap;
    }

    .ai-check-modal-btn:hover {
      background: #444;
      transform: translateY(-1px);
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .hero {
        padding: 4rem 1rem 3rem 1rem;
        min-height: 450px;
      }

      .hero h1 {
        font-size: 2.5rem;
        letter-spacing: -1px;
      }

      .hero-subtitle {
        font-size: 1.1rem;
        margin-bottom: 2rem;
      }

      .hero-btn {
        padding: 1rem 1.5rem;
        font-size: 1rem;
        width: 100%;
        max-width: 300px;
        margin: 0 auto;
      }

      .ai-check-section {
        padding: 3rem 1rem;
      }

      .ai-check-container {
        padding: 0 1rem;
      }

      .ai-check-title {
        font-size: 1.8rem;
        text-align: left;
      }

      .ai-check-description {
        text-align: left;
        font-size: 0.95rem;
      }

      .ai-check-content {
        flex-direction: column;
        gap: 2rem;
        margin-top: 2rem;
      }

      .ai-check-video {
        justify-content: center;
      }

      .ai-check-button-container {
        justify-content: flex-start;
        padding-right: 0;
      }

      .ai-check-btn {
        padding: 1rem 1.5rem;
        font-size: 1rem;
        width: auto;
        max-width: 300px;
        white-space: nowrap;
      }

      .modal-content {
        padding: 2rem 1.5rem 1.5rem 1.5rem;
      }

      .modal-title {
        font-size: 1.1rem;
      }

      .modal-subtitle {
        font-size: 1rem;
      }

      .modal-description {
        font-size: 0.95rem;
      }

      .modal-btn {
        padding: 1rem 2rem;
        font-size: 1rem;
        width: 100%;
      }

      .ai-check-modal-content {
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 400px;
      }

      .ai-check-modal-inner {
        margin: 1rem;
        max-width: 90%;
      }

      .ai-check-modal-title {
        font-size: 1.3rem;
      }
    }

    @media (max-width: 480px) {
      .hero {
        min-height: 350px;
        padding: 3rem 1rem 2rem 1rem;
      }
      
      .hero h1 {
        font-size: 2rem;
      }

      .hero-subtitle {
        font-size: 1rem;
      }

      .ai-check-section {
        padding: 2rem 1rem;
      }

      .ai-check-container {
        padding: 0 1rem;
      }

      .ai-check-title {
        font-size: 1.5rem;
        text-align: left;
      }

      .ai-check-description {
        text-align: left;
        font-size: 0.9rem;
      }

      .modal-content {
        padding: 0.7rem 0.3rem 0.7rem 0.3rem;
        max-width: 98vw;
      }
      .modal-title, .modal-subtitle, .modal-description {
        font-size: 0.95rem;
        word-break: break-word;
      }
      .modal-btn {
        font-size: 1rem;
        padding: 0.8rem 0.5rem;
        width: 100%;
        min-height: 48px;
      }
      .modal-close {
        top: 0.5rem;
        right: 0.5rem;
        font-size: 1.3rem;
      }
    }

    /* Touch-friendly improvements */
    @media (hover: none) and (pointer: coarse) {
      .hero-btn,
      .ai-check-btn,
      .modal-btn,
      .ai-check-modal-btn {
        min-height: 48px;
      }

      .modal-close {
        min-height: 48px;
        min-width: 48px;
      }
    }

    .always-blog-banner {
      position: fixed;
      top: 1rem;
      right: 1rem;
      z-index: 9999;
      background: #2563eb;
      color: white;
      padding: 1rem 3rem 1rem 1.5rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 16px #0003;
      max-width: 350px;
      transition: transform 0.4s cubic-bezier(.4,2,.6,1), opacity 0.4s;
      font-size: 1.05rem;
      white-space: normal;
      word-break: break-word;
      display: flex;
      align-items: center;
      gap: 1rem;
    }
    .always-blog-banner.hide {
      display: none;
    }
    .always-blog-banner .close-btn {
      background: none;
      border: none;
      color: #fff;
      font-size: 1.3rem;
      font-weight: bold;
      cursor: pointer;
      padding: 0 0.3em;
      line-height: 1;
      opacity: 0.7;
      transition: opacity 0.2s;
    }
    .always-blog-banner .close-btn:hover {
      opacity: 1;
    }
    @media (max-width: 600px) {
      .always-blog-banner {
        left: 0.5rem;
        right: 0.5rem;
        max-width: 95vw;
        padding: 0.7rem 3rem 0.7rem 0.7rem;
        font-size: 0.98rem;
      }
      .always-blog-banner .close-btn {
        right: 1rem;
      }
    }
    /* Hero-Bereich Layout-Anpassung */
    .hero-flex {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      max-width: 1200px;
      margin: 0 auto;
      min-height: 350px;
      position: relative;
      height: 100%;
      padding: 0 1rem;
      padding-top: 80px;
    }
    .hero-content {
      flex: 1;
      max-width: 600px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      gap: 1.5rem;
      margin-top: -40px;
    }
    .hero-content h1 {
      color: white;
      font-size: 3.2rem;
      font-weight: 800;
      margin: 0;
      letter-spacing: -2px;
      line-height: 1.1;
      text-align: center;
      white-space: normal;
    }
    .hero-content .hero-subtitle {
      color: #cbd5e1;
      font-size: 1.3rem;
      margin: 0;
      line-height: 1.4;
      text-align: center;
      white-space: normal;
    }
    .hero-btn {
      align-self: center;
      margin: 0;
      white-space: nowrap;
    }
    .blog-list-preview {
      background: rgba(30, 41, 59, 0.3);
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 0.8rem;
      margin: 0;
      max-width: 280px;
      min-width: 260px;
      max-height: 320px;
      overflow-y: auto;
      text-align: left;
      opacity: 0.6;
      transition: all 0.3s ease;
      position: absolute;
      top: -110px;
      right: -100px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.1);
      z-index: 10;
    }
    .blog-list-preview:hover {
      opacity: 1;
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      background: rgba(30, 41, 59, 0.8);
    }
    .blog-list-preview h3 {
      color: #cbd5e1;
      font-size: 0.75rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
    }
    .featured-blog {
      display: block;
      padding: 0.6rem;
      margin-bottom: 0.5rem;
      border-radius: 6px;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    .featured-blog:hover {
      background: rgba(255, 255, 255, 0.08);
      transform: translateY(-1px);
    }
    .featured-blog-content {
      display: block;
      margin-bottom: 0.5rem;
    }
    .featured-blog-date {
      display: block;
      font-size: 0.65rem;
      color: #60a5fa;
      font-weight: 500;
      margin-bottom: 0.3rem;
    }
    .featured-blog-title-link {
      text-decoration: none;
      transition: all 0.2s ease;
    }
    .featured-blog-title-link:hover {
      transform: translateY(-1px);
    }
    .featured-blog-title {
      display: block;
      font-size: 0.8rem;
      font-weight: 600;
      color: #fff;
      line-height: 1.2;
      transition: color 0.2s ease;
    }
    .featured-blog-title-link:hover .featured-blog-title {
      color: #60a5fa;
    }
    .featured-blog-more {
      display: block;
      font-size: 0.65rem;
      color: #60a5fa;
      font-weight: 500;
      opacity: 0.8;
      text-decoration: none;
      transition: opacity 0.2s ease;
      margin-top: 0.5rem;
      padding-top: 0.5rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    .featured-blog-more:hover {
      opacity: 1;
    }

    @media (max-width: 1024px) {
      .hero-flex {
        flex-direction: column;
        align-items: stretch;
        gap: 1.5rem;
        min-height: unset;
      }
    }
    @media (max-width: 600px) {
      .hero-flex {
        flex-direction: column;
        gap: 1.5rem;
        padding: 0 1rem;
      }
      .hero-content {
        flex-direction: column;
        align-items: center;
        text-align: center;
        gap: 1rem;
        order: 2;
      }
      .hero-content h1, .hero-content .hero-subtitle {
        text-align: center;
        white-space: normal;
      }
      .hero-btn {
        align-self: center;
      }
      .blog-list-preview {
        position: static;
        padding: 0.8rem;
        margin: 0 0 1rem 0;
        border-radius: 8px;
        max-width: 100%;
        min-width: unset;
        background: rgba(30, 41, 59, 0.6);
        order: 1;
        opacity: 0.8;
        top: auto;
        right: auto;
        max-height: 280px;
        overflow-y: auto;
      }
      .blog-list-preview:hover {
        opacity: 1;
        background: rgba(30, 41, 59, 0.9);
      }
      .blog-list-preview h3 {
        font-size: 0.8rem;
        margin-bottom: 0.6rem;
        font-weight: 600;
        color: #cbd5e1;
      }
      .featured-blog {
        padding: 0.6rem;
      }
      .featured-blog-content {
        margin-bottom: 0.4rem;
      }
      .featured-blog-date {
        font-size: 0.7rem;
        margin-bottom: 0.3rem;
      }
      .featured-blog-title {
        font-size: 0.85rem;
      }
      .featured-blog-more {
        font-size: 0.7rem;
        margin-top: 0.5rem;
        padding-top: 0.5rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
      }
    }
    
    /* Individual Section Backgrounds */
    #ueber-uns {
      background: var(--ueber-uns-bg);
      padding: 4rem 0;
      margin: 0;
      border: none;
    }
    
    #leistungen {
      background: var(--leistungen-bg);
      padding: 4rem 0;
      margin: 0;
      border: none;
    }
    
    #technologien {
      background: var(--technologien-bg);
      padding: 4rem 0;
      margin: 0;
      border: none;
    }
    
    #team {
      background: var(--team-bg);
      padding: 4rem 0;
      margin: 0;
      border: none;
    }
    
    #faq {
      background: var(--faq-bg);
      padding: 4rem 0;
      margin: 0;
      border: none;
    }
    
    /* Remove any borders or margins from main sections */
    main {
      margin: 0;
      padding: 0;
      border: none;
    }
    
    main section {
      margin: 0;
      border: none;
    }
  </style>

  <section class="hero" id="home">
    <div class="hero-flex">
      <aside class="blog-list-preview">
        <h3>Aktuelles</h3>
        {latestTwo.map((post) => (
          <div class="featured-blog">
            <div class="featured-blog-content">
              <span class="featured-blog-date">{formatDate(post.data.date as string)}</span>
              <a href={`/blog/${post.slug}`} class="featured-blog-title-link">
                <span class="featured-blog-title">{post.data.title}</span>
              </a>
            </div>
          </div>
        ))}
        <a href="/blog" class="featured-blog-more">Alle Blogs ansehen →</a>
      </aside>
      <div class="hero-content">
        <h1>AI ready for business</h1>
        <div class="hero-subtitle">AImpacts – Ihre Experten rund um AI für Unternehmen!</div>
        <a id="ai-weg-btn" href="#" class="hero-btn">Ihr Weg mit AI beginnt hier →</a>
      </div>
    </div>
  </section>

  <div id="ai-modal" class="modal">
    <div class="modal-content">
      <button id="ai-modal-close" class="modal-close">&times;</button>
      <div class="modal-logo">
        <img src="/images/logo.svg" alt="AImpacts Logo" />
      </div>
      <div class="modal-title">Sie möchten mehr wissen und haben Fragen dazu, wie sich AI für Ihr Unternehmen und Ihre Anwendungen nutzen lässt?</div>
      <div class="modal-subtitle">Dann vereinbaren Sie eine 30-minütigen kostenlosen AI Beratung.</div>
      <div class="modal-description">In dieser Beratung erfahren Sie mehr dazu, wie sich AI für Ihr Unternehmen nutzen lässt und wie wir arbeiten.<br><br>Reservieren Sie noch heute Ihren persönlichen Beratungstermin mit einem unserer Experten und Expertinnen.</div>
      <a href="https://calendly.com/julius-kaeck/30min?month=2025-06" target="_blank" rel="noopener noreferrer" class="modal-btn">Zur kostenlosen AI Beratung</a>
    </div>
  </div>

  <main>
    <!-- AI Check Section -->
    <section class="ai-check-section">
      <div class="ai-check-container">
        <h2 class="ai-check-title">Starten Sie Ihren AI Check</h2>
        <p class="ai-check-description">
          Wir definieren gemeinsam Ihre Anforderungen und entwickeln die erforderlichen Umsetzungsschritte. Wir begleiten Sie und Ihr Team Schritt für Schritt. Wir sind Ihr Ansprechpartner, auch wenn Sie noch keine klare Richtung haben. Sortieren Sie mit uns Ihre Gedanken und definieren Sie Ihre Ziele. Wir arbeiten von Anfang an transparent und auf Augenhöhe.
        </p>
        <div class="ai-check-content">
          <div class="ai-check-video">
            <video src="/videos/Start_Ai.mp4" autoplay muted loop></video>
          </div>
          <div class="ai-check-button-container">
            <a id="ai-check-btn" href="https://forms.office.com/e/ExtrgZHDBh" target="_blank" rel="noopener noreferrer" class="ai-check-btn">AI Check mit AImpacts starten →</a>
          </div>
        </div>
      </div>
    </section>

      <section id="ueber-uns"><UeberUns /></section>
<section id="leistungen"><Lesitungen /></section>
<section id="technologien"><TechnologienUndInvestitionen /></section>
<section id="team"><Comments /></section>
<section id="faq"><FAQ /></section>
  </main>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function() {
    // Erstes Modal (AI Weg)
    var btn = document.getElementById('ai-weg-btn');
    var modal = document.getElementById('ai-modal');
    var close = document.getElementById('ai-modal-close');
    function disableBodyScroll() {
      document.body.style.overflow = 'hidden';
    }
    function enableBodyScroll() {
      document.body.style.overflow = 'auto';
    }
    if (btn && modal && close) {
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        if (modal) {
          modal.style.display = 'flex';
          disableBodyScroll();
        }
      });
      close.addEventListener('click', function() {
        if (modal) modal.style.display = 'none';
        enableBodyScroll();
      });
      window.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal) {
          modal.style.display = 'none';
          enableBodyScroll();
        }
      });
      if (modal) {
        modal.addEventListener('click', function(e) {
          if (e.target === modal) {
            modal.style.display = 'none';
            enableBodyScroll();
          }
        });
      }
    }
  });
</script>
</BaseLayout>


