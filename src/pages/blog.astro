---
import { getCollection } from "astro:content";
const posts = await getCollection("blog");
const sorted = posts.sort((a, b) => new Date(b.data.date) > new Date(a.data.date) ? -1 : 1);
---

<h1>Blogs</h1>
<div class="blog-list">
  {sorted.map(post => (
    <article class="blog-item">
      <h2><a href={`/blog/${post.slug}`}>{post.data.title}</a></h2>
      <div class="blog-date">{post.data.date}</div>
    </article>
  ))}
</div>

<style>
.blog-list {
  max-width: 700px;
  margin: 2rem auto 0 auto;
  padding: 0 1rem;
}
@media (max-width: 600px) {
  .blog-list {
    max-width: 100vw;
    margin: 0;
    padding: 0 0.3rem;
  }
}
.blog-item {
  border-bottom: 1px solid #eee;
  padding: 1.2rem 0;
}
.blog-item h2 {
  margin-bottom: 0.2em;
  font-size: 1.3rem;
}
.blog-date {
  color: #888;
  font-size: 0.95em;
  margin-bottom: 0.7em;
}
@media (max-width: 600px) {
  .blog-item {
    padding: 1rem 0;
  }
  .blog-item h2 {
    font-size: 1.05rem;
  }
}
</style> 